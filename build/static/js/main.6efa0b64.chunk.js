(this["webpackJsonpquizzy-admin"]=this["webpackJsonpquizzy-admin"]||[]).push([[0],{77:function(e,t,a){e.exports=a(95)},82:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),i=(a(82),a(7)),o=a.n(i),u=a(13),s=a(6),m=a(18),d=a(22),p=a(11),f=a(52);a(84),a(96);f.initializeApp({apiKey:"AIzaSyCFbL0TgE7t5q4L4AAJkddkRlmNksp7kiY",authDomain:"quizzy-a4b01.firebaseapp.com",databaseURL:"https://quizzy-a4b01.firebaseio.com",projectId:"quizzy-a4b01",storageBucket:"quizzy-a4b01.appspot.com",messagingSenderId:"516961689040",appId:"1:516961689040:web:ea13bc2c5e355c782aedd5"});var E=f.firestore(),b=f.storage(),g=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.collection("questions").doc(a).collection("DRAFT").doc().set(t);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n){var l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.collection(t).get();case 2:return l=e.sent,r={},l.forEach((function(e){e.data().email===a&&e.data().password===n&&(r.status="SUCCESS",r.data={email:a,role:t,id:e.id})})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.collection(t).doc(a).get();case 2:return n=e.sent,l={},n.exists&&(l.status="SUCCESS",l.data={email:n.data().email,id:a,role:t}),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=a(104),O=a(68),j=a(106);a(87);function S(e){var t=e.user,a=e.setUser,r=Object(n.useState)(""),c=Object(s.a)(r,2),i=c[0],m=c[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),E=f[0],b=f[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),S=v[0],w=v[1],x=Object(n.useState)(!1),C=Object(s.a)(x,2),q=C[0],k=C[1],L=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k(!1),!(i&&E&&S)){e.next=7;break}return e.next=5,h(S,i,E);case 5:"SUCCESS"===(null===(n=e.sent)||void 0===n?void 0:n.status)?(l=n.data,localStorage.setItem("someQuizzySecret",JSON.stringify(l)),a(l)):k(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"login"},t?l.a.createElement(l.a.Fragment,null,"admin"===t.role?l.a.createElement(d.a,{to:"/verify"}):l.a.createElement(d.a,{to:"/add"})):l.a.createElement("div",null,l.a.createElement("h1",null,"Quizzy"),l.a.createElement(y.a,{onSubmit:L},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email Address"),l.a.createElement(y.a.Control,{type:"text",placeholder:"email",name:"email",onChange:function(e){return m(e.target.value)},required:!0})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"password",name:"password",onChange:function(e){return b(e.target.value)},required:!0})),l.a.createElement(y.a.Text,null,"Please enter email and password provided by Quizzy Team"),l.a.createElement(O.a,{variant:"primary",type:"submit",style:{margin:"20px 0"},onClick:function(){return w("que-user")}},"I wan't to draft quiz questions"),l.a.createElement("br",null),l.a.createElement(O.a,{variant:"dark",type:"submit",onClick:function(){return w("admin")},style:{margin:"20px 0"}},"I wan't to publish quiz questions")),q?l.a.createElement(j.a,{variant:"danger"},"Invalid credential or Role"):null))}a(93);var w=a(41);function x(e){var t=e.user,a=[{id:1,value:"Science And Technology",isChecked:!1},{id:2,value:"General Culture",isChecked:!1},{id:3,value:"History",isChecked:!1},{id:4,value:"Movie",isChecked:!1}],r=[{id:1,name:"option1",value:""},{id:2,name:"option2",value:""},{id:3,name:"option3",value:""},{id:4,name:"option4",value:""}],c=Object(n.useState)(!0),i=Object(s.a)(c,2),m=i[0],d=i[1],f=Object(n.useState)(""),E=Object(s.a)(f,2),h=E[0],v=E[1],S=Object(n.useState)(null),x=Object(s.a)(S,2),C=x[0],q=x[1],k=Object(n.useState)(null),L=Object(s.a)(k,2),z=L[0],U=L[1],A=Object(n.useState)(""),I=Object(s.a)(A,2),T=I[0],D=I[1],Q=Object(n.useState)(!1),R=Object(s.a)(Q,2),N=R[0],P=R[1],F=Object(n.useState)(!1),G=Object(s.a)(F,2),B=G[0],W=G[1],K=Object(n.useState)(!1),H=Object(s.a)(K,2),J=H[0],M=H[1],Y=Object(n.useState)(""),Z=Object(s.a)(Y,2),_=Z[0],V=Z[1],$=Object(n.useState)(r),X=Object(s.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(a),ne=Object(s.a)(ae,2),le=ne[0],re=ne[1],ce=function(e){re(le.map((function(t){return t.value===e.target.value?Object(p.a)({},t,{isChecked:!t.isChecked}):t})))},ie=function(e){te(ee.map((function(t){return t.name===e.target.name?Object(p.a)({},t,{value:e.target.value}):t})))},oe=function(){var e=Object(u.a)(o.a.mark((function e(n){var l,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(!1),n.preventDefault(),P(!1),l=[],le.map((function(e){return e.isChecked&&l.push(e.value),null})),l.length>0?(c=[],m&&ee.map((function(e){return c.push(e.value)})),i={title:h,imageURL:z,options:c,answer:""===T?ee[0].value:T,createdBy:t.id,creationDate:(new Date).toLocaleString(),publishedBy:null,publishDate:null,region:_},l.map(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(i,t).then((function(){M(!0),setTimeout((function(){M(!1)}),1e4),te(r),re(a),D(""),v(""),U(""),V(""),q(null),window.scrollTo(0,0)})).catch((function(e){setTimeout((function(){W(!1)}),1e4),window.scrollTo(0,0)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):P(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"add"},t?l.a.createElement(l.a.Fragment,null,"admin"===t.role?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"You are not privilege to add question"),l.a.createElement("h3",null,"Login as User")):l.a.createElement(l.a.Fragment,null,J?l.a.createElement(j.a,{variant:"success"},"Question has been submitted. As soon as Admin verify the question it will be available to all Quizzy users."):null,B?l.a.createElement(j.a,{variant:"danger"},"Something Went Wrong. Please try Again."):null,l.a.createElement(y.a,{onSubmit:oe},l.a.createElement(w.a,{style:{width:"100%",margin:"20px 0",border:"3px solid blue"},value:_,onChange:function(e){return V(e)}}),l.a.createElement("br",null),l.a.createElement(y.a.Label,{variant:"h1"},"Categories"),l.a.createElement(y.a.Group,{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}},le.map((function(e){return l.a.createElement(y.a.Check,{className:"cat-check",onChange:ce,key:e.id,checked:e.isChecked,value:e.value,label:e.value})}))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(O.a,{variant:m?"outline-primary":"primary",onClick:function(){return d(!m)},style:{margin:"20px 0",outline:"none"}},m?"Change to Image Based Question":"Change to MCQ Based Question")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Title"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Title",value:h,onChange:function(e){return v(e.target.value)},required:!0})),m?l.a.createElement(l.a.Fragment,null,ee.map((function(e){return l.a.createElement(y.a.Group,{key:e.id},l.a.createElement(y.a.Label,null,"Option ",e.id),l.a.createElement(y.a.Control,{type:"text",name:e.name,placeholder:"Enter option",value:e.value,onChange:ie,required:!0}))}))):null,l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Answer"),m?l.a.createElement(y.a.Control,{as:"select",required:!0,value:T,onChange:function(e){D(e.target.value)}},ee.map((function(e,t){return l.a.createElement("option",{key:t,value:e.value},e.name)}))):l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Answer of this Question in text",value:T,onChange:function(e){return D(e.target.value)},required:!0}),l.a.createElement(y.a.Text,{className:"text-muted"},"Please write the same text as in option for answer")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Upload Image ",m?"(Optonal)":null),l.a.createElement("div",{className:"image-upload"},l.a.createElement("input",{type:"file",name:"myImage",accept:"image/x-png,image/gif,image/jpeg",onChange:function(e){if(e.target.files[0]){U(null);var t=e.target.files[0];q(t)}},required:!m}),l.a.createElement("div",{className:"image-button"},l.a.createElement(O.a,{variant:z?"success":"primary",onClick:function(e){(e.preventDefault(),null!==C)&&b.ref("images/".concat(C.name)).put(C).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){b.ref("images").child(C.name).getDownloadURL().then((function(e){U(e)}))}))},className:"waves-effect waves-light btn"},z?"Uploaded \u2705":"Upload")))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(O.a,{type:"submit",variant:"primary",style:{textAlign:"center"}},"Add Question"))),N?l.a.createElement(j.a,{variant:"danger"},"Please select anyone category"):null)):l.a.createElement("h1",null,"Please Login to Add Questions"))}var C=a(69),q=a.n(C);function k(e){var t=e.link;return l.a.createElement("div",{className:"welcome",style:{display:"flex",flexDirection:"column",width:"90vw",height:"90vh",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto"}},l.a.createElement("h1",null,l.a.createElement(q.a,{style:{fontSize:"2rem"},options:{strings:["Welcome to Quizzy portal","A portal to manage all Quizzy questions"],autoStart:!0,loop:!0}})),t?l.a.createElement(O.a,{variant:"outline-primary",size:"lg"},l.a.createElement(m.b,{to:t},"/add"===t?"Add Question":"Verify Questions")):null)}var L=a(76),z=a(105);function U(e){var t=e.user,a=e.setUser,n=e.setLink;return l.a.createElement("div",{className:"navbar-custom"},l.a.createElement(L.a,null,l.a.createElement(L.a.Link,{href:"/",style:{color:"aquamarine",fontWeight:"800",fontSize:"1.2rem"}},"QUIZZY"),t?l.a.createElement(z.a,{title:t.email},l.a.createElement(z.a.Item,{eventKey:"logout",onClick:function(){a(null),n(null),localStorage.removeItem("someQuizzySecret")}},l.a.createElement(m.b,{to:"/"},"Logout"))):l.a.createElement(m.b,{to:"/login",style:{display:"flex",alignItems:"center"}},l.a.createElement(L.a.Item,{href:"/login"},"Login"))))}var A=a(51),I=a(102),T=a(103),D=a(67),Q=a(108),R=(a(94),a(107)),N=a(101);function P(e){var t=e.questionData,a=e.user,r=e.quiz,c=e.type,i=e.publishUpdate,o=Object(n.useState)(t),u=Object(s.a)(o,2),d=u[0],f=u[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),h=g[0],v=g[1],y=Object(n.useState)(!1),S=Object(s.a)(y,2),w=S[0],x=S[1];return l.a.createElement("div",null,h?l.a.createElement(j.a,{variant:"success"},"The Question has been published"):null,w?l.a.createElement(j.a,{variant:"danger"},"The Question has been removed"):null,d.length>0?l.a.createElement("div",null,d.map((function(e){return l.a.createElement(R.a,{key:e.id,style:{marginTop:"2rem"}},l.a.createElement(R.a.Body,null,l.a.createElement(R.a.Header,{as:"h5"},e.title),l.a.createElement(R.a.Text,null,"Region: ",""===e.region?"Global":e.region),""!==e.imageURL?l.a.createElement(N.a,{alt:"Question",src:e.imageURL,thumbnail:!0,style:{width:"360px",height:"360px"}}):null,l.a.createElement(R.a.Text,null,"ImageURL: ",e.imageURL),e.options.length>0?l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",alignItems:"center"}},e.options.map((function(e,t){return l.a.createElement(R.a.Text,{style:{width:"40%",backgroundColor:"#DAE0E2",padding:"2px"},key:t},"Option ",t+1,": ",e)}))):l.a.createElement(R.a.Text,null,"No Option Available"),l.a.createElement(R.a.Title,null,"Answer: ",e.answer),"DRAFT"===c?l.a.createElement(O.a,{variant:"success",onClick:function(){return function(e,t,a,n){var l=Object(p.a)({},n,{publishedBy:a,publishDate:(new Date).toLocaleString()});E.collection("questions").doc(e).collection("PUBLISHED").doc(t).set(l).then((function(){E.collection("questions").doc(e).collection("DRAFT").doc(t).delete().then((function(){f(d.filter((function(e){return e.id!==t}))),v(!0),setTimeout((function(){v(!1)}),4e3)})).then((function(){i(e,l)}))}))}(r,e.id,a.id,e)},style:{marginRight:"30px"}},"Publish"):null,l.a.createElement(O.a,{variant:"danger",onClick:function(){return function(e,t,a){E.collection("questions").doc(e).collection(a).doc(t).delete().then((function(){f(d.filter((function(e){return e.id!==t}))),x(!0),setTimeout((function(){x(!1)}),4e3)}))}(r,e.id,c)},style:{marginRight:"30px"}},"Discard"),l.a.createElement(m.b,{to:{pathname:"/edit/"+e.id,state:{category:r,type:c}}},l.a.createElement(O.a,{variant:"primary"},"Edit"))))}))):l.a.createElement("h1",null,"No Questions in this category"))}function F(e){var t=e.questions,a=e.user,r=e.type,c=e.publishUpdate,i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(null),p=Object(s.a)(d,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){E(t)}),[t]),l.a.createElement(l.a.Fragment,null,f?l.a.createElement(Q.a,{id:"controlled-tab-example",activeKey:u,onSelect:function(e){return m(e)}},f.map((function(e,t){return l.a.createElement(I.a,{eventKey:e.category,title:e.category,key:t},l.a.createElement(P,{publishUpdate:c,questionData:e.questions,quiz:e.category,user:a,type:r}))}))):null)}function G(e){var t=e.user,a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(null),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),g=b[0],h=b[1];Object(n.useEffect)((function(){if("admin"===(null===t||void 0===t?void 0:t.role)){var e=[];E.collection("questions").get().then((function(t){t.docs.forEach((function(t){var a=[];E.collection("questions").doc(t.id).collection("DRAFT").get().then((function(e){e.forEach((function(e){a.push(Object(p.a)({id:e.id},e.data()))}))})),e.push({category:t.id,questions:a})}))})).then((function(){d(e)}))}}),[t]),Object(n.useEffect)((function(){if("admin"===(null===t||void 0===t?void 0:t.role)){var e=[];E.collection("questions").get().then((function(t){t.docs.forEach((function(t){var a=[];E.collection("questions").doc(t.id).collection("PUBLISHED").get().then((function(e){e.forEach((function(e){a.push(Object(p.a)({id:e.id},e.data()))}))})),e.push({category:t.id,questions:a})}))})).then((function(){i(e)}))}}),[t]),Object(n.useEffect)((function(){c&&d&&h(!1)}),[c,m]);return l.a.createElement("div",{style:{padding:"10px"}},t?"que-user"===t.role?l.a.createElement("h1",null,"Only Admin can publish question"):"admin"!==t.role||g?l.a.createElement("h1",null,"Loading Please wait"):l.a.createElement(I.a.Container,{id:"left-tabs-example",defaultActiveKey:"unpublished"},l.a.createElement(T.a,null,l.a.createElement(D.a,{sm:3},l.a.createElement(L.a,{variant:"pills",className:"flex-column"},l.a.createElement(L.a.Item,null,l.a.createElement(L.a.Link,{eventKey:"unpublished"},"Unpublished")),l.a.createElement(L.a.Item,null,l.a.createElement(L.a.Link,{eventKey:"published"},"Published")))),l.a.createElement(D.a,{sm:9},l.a.createElement(I.a.Content,null,l.a.createElement(I.a.Pane,{eventKey:"unpublished"},l.a.createElement(F,{publishUpdate:function(e,t){var a=Object(A.a)(c);c.map((function(a){return a.category===e&&a.questions.unshift(t),null})),i(a)},questions:m,user:t,type:"DRAFT"})),l.a.createElement(I.a.Pane,{eventKey:"published"},l.a.createElement(F,{questions:c,user:t,type:"PUBLISHED"})))))):l.a.createElement("h1",null,"Please login to continue"))}function B(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(null),f=Object(s.a)(m,2),g=f[0],h=f[1],v=Object(n.useState)(null),S=Object(s.a)(v,2),x=S[0],C=S[1],q=Object(n.useState)(null),k=Object(s.a)(q,2),L=k[0],z=k[1],U=Object(n.useState)(null),I=Object(s.a)(U,2),T=I[0],D=I[1],Q=Object(n.useState)(null),R=Object(s.a)(Q,2),N=R[0],P=R[1],F=Object(n.useState)(!1),G=Object(s.a)(F,2),B=G[0],W=G[1],K=Object(n.useState)(null),H=Object(s.a)(K,2),J=H[0],M=H[1],Y=Object(n.useState)(!1),Z=Object(s.a)(Y,2),_=Z[0],V=Z[1],$=Object(n.useState)(!1),X=Object(s.a)($,2),ee=X[0],te=X[1],ae=Object(d.g)().id,ne=Object(d.f)().state,le=ne.category,re=ne.type;Object(n.useEffect)((function(){E.collection("questions").doc(le).collection(re).doc(ae).get().then((function(e){var t=e.data(),a=t.options,n=t.title,l=t.answer,r=t.imageURL,c=t.region;M(t),C(r),u(a),h(n),P(l),D(c),W(a.length>0)})).then((function(){r(!1)}))}),[ae,le,re]);return l.a.createElement("div",{className:"add"},a?l.a.createElement("h1",null,"Loading Please wait ..."):l.a.createElement(l.a.Fragment,null,_?l.a.createElement(j.a,{variant:"success"},"Question has been been Updated."):null,l.a.createElement(y.a,{onSubmit:function(e){te(!0),e.preventDefault(),E.collection("questions").doc(le).collection(re).doc(ae).update(Object(p.a)({},J,{options:o,imageURL:x,title:g,answer:N,region:T})).then((function(){V(!0),te(!1),setTimeout((function(){V(!1)}),3e3)}))}},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Region"),l.a.createElement(w.a,{style:{width:"100%",margin:"20px 0 0 0",border:"3px solid blue"},value:T,onChange:function(e){return D(e)}}),l.a.createElement("br",null)),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Title"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Title",value:g,onChange:function(e){return h(e.target.value)},required:!0})),B?o.map((function(e,t){return l.a.createElement(y.a.Group,{key:t},l.a.createElement(y.a.Label,null,"Option ",t+1),l.a.createElement(y.a.Control,{type:"text",name:e.name,placeholder:"Enter option",value:e,onChange:function(e){return function(e,t){var a=Object(A.a)(o);a[t]=e.target.value,u(a)}(e,t)},required:!0}))})):null,l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Answer"),B?l.a.createElement(y.a.Control,{as:"select",required:!0,value:N,onChange:function(e){P(e.target.value)}},o.map((function(e,t){return l.a.createElement("option",{key:t,value:e},"Option ",t+1)}))):l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Answer of this Question in text",value:N,onChange:function(e){return P(e.target.value)},required:!0})),x?l.a.createElement("img",{src:x,alt:"Question",style:{maxWidth:"100%"},width:400,height:300}):l.a.createElement("h2",{body:!0},"No Image for this question"),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Upload Image ",B?"(Optonal)":null),l.a.createElement("div",{className:"image-upload"},l.a.createElement("input",{type:"file",name:"myImage",accept:"image/x-png,image/gif,image/jpeg",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0];z(t)}},required:!B&&!x}),l.a.createElement("div",{className:"image-button"},l.a.createElement(O.a,{style:{marginRight:"10px"},variant:"primary",onClick:function(e){(e.preventDefault(),null!==L)&&b.ref("images/".concat(L.name)).put(L).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){b.ref("images").child(L.name).getDownloadURL().then((function(e){C(e)}))}))},className:"waves-effect waves-light btn"},x?"Update Image":"Add Image"),x&&B?l.a.createElement(O.a,{variant:"danger",onClick:function(){return C(null)}},"Remove Image"):null))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(O.a,{type:"submit",variant:"primary"},ee?"Updating":"Update"," Question")))))}function W(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Not Found"))}function K(e){e.user;var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),o=Object(s.a)(i,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){var e=[];E.collection("questions").get().then((function(t){t.docs.forEach((function(t){var a=[];E.collection("questions").doc(t.id).collection("DRAFT").get().then((function(e){e.forEach((function(e){a.push(Object(p.a)({id:e.id},e.data()))}))})),e.push({category:t.id,questions:a})}))})).then((function(){m(e)}))}),[]),Object(n.useEffect)((function(){var e=[];E.collection("questions").get().then((function(t){t.docs.forEach((function(t){var a=[];E.collection("questions").doc(t.id).collection("PUBLISHED").get().then((function(e){e.forEach((function(e){a.push(Object(p.a)({id:e.id},e.data()))}))})),e.push({category:t.id,questions:a})}))})).then((function(){c(e)}))}),[]),Object(n.useEffect)((function(){console.log("publish"),console.log(r)}),[r]),Object(n.useEffect)((function(){console.log("draft"),console.log(u)}),[u]),l.a.createElement("div",null,l.a.createElement("h1",null,"Hello World"))}var H=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(s.a)(c,2),p=i[0],f=i[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("someQuizzySecret"));function t(){return(t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e.role,e.id);case 2:"SUCCESS"===(null===(a=t.sent)||void 0===a?void 0:a.status)&&(r(a.data),"admin"===a.data.role?f("/verify"):"que-user"===a.data.role&&f("/add"));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e&&function(){t.apply(this,arguments)}(e)}),[]),l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(U,{user:a,setUser:r,setLink:f}),l.a.createElement(d.b,{path:"/",exact:!0,component:function(){return l.a.createElement(k,{link:p})}}),l.a.createElement(d.b,{path:"/login",exact:!0,render:function(){return l.a.createElement(S,{user:a,setUser:r})}}),l.a.createElement(d.b,{path:"/add",exact:!0,render:function(){return a&&l.a.createElement(x,{user:a})}}),l.a.createElement(d.b,{path:"/verify",exact:!0,render:function(){return l.a.createElement(G,{user:a})}}),l.a.createElement(d.b,{path:"/edit/:id",render:function(e){var t=e.match;return t?l.a.createElement(B,{match:t,user:a}):l.a.createElement(W,null)}}),l.a.createElement(d.b,{path:"/test",render:function(){return a&&l.a.createElement(K,{user:a})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.6efa0b64.chunk.js.map